<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Product Showcase</title>
<style>
/* Dynamic theme styles injected by JS */
:root {
  --bg:#f7f4ef; --card-bg:#fff; --text:#1c1812; --accent:#c8a97e; --deep:#3d2b1a;
  --muted:#8a8076; --border:rgba(28,24,18,.1); --shadow:rgba(61,43,26,.13); --img-bg:#ede9e2;
  --radius:14px; --gap:1.5rem; --cols:3; --title-sz:1.1rem; --desc-sz:.82rem; --desc-ln:2;
  --hdr-bg:rgba(247,244,239,.93); --contact-bg:#3d2b1a; --contact-fs:.76rem;
  --modal-title-sz:1.5rem; --modal-desc-sz:.9rem; --modal-img-w:48%;
  --font-head:'Playfair Display',Georgia,serif; --font-body:'Jost',system-ui,sans-serif;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:var(--font-body);background:var(--bg);color:var(--text);
  min-height:100vh;display:flex;flex-direction:column;transition:all .3s}
::-webkit-scrollbar{width:5px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:10px}

/* HEADER */
.site-header{position:sticky;top:0;z-index:200;background:var(--hdr-bg);backdrop-filter:blur(14px);
  border-bottom:1px solid var(--border);padding:0 2rem;transition:all .3s}
.header-inner{max-width:1440px;margin:0 auto;display:flex;align-items:center;
  justify-content:space-between;height:62px;gap:1rem}
.site-logo{font-family:var(--font-head);font-size:clamp(1.2rem,2.5vw,1.6rem);
  font-weight:600;letter-spacing:.03em;color:var(--deep);text-decoration:none;flex-shrink:0}
.header-right{display:flex;align-items:center;gap:.6rem}
.admin-toggle-btn{display:none;align-items:center;gap:.42rem;background:none;
  border:1px solid var(--border);padding:.3rem .85rem;border-radius:100px;cursor:pointer;
  font-family:var(--font-body);font-size:.71rem;color:var(--muted);letter-spacing:.06em;
  transition:all .25s;text-transform:uppercase}
.admin-toggle-btn.visible{display:flex}
.admin-toggle-btn:hover{border-color:var(--accent);color:var(--deep)}
.admin-toggle-btn.active{background:var(--deep);color:#ede9e2;border-color:var(--deep)}
.atb-chevron{transition:transform .3s;display:flex}
.admin-toggle-btn.active .atb-chevron{transform:rotate(180deg)}
.atb-dot{width:6px;height:6px;border-radius:50%;background:var(--accent);flex-shrink:0;transition:background .2s}
.admin-toggle-btn.active .atb-dot{background:rgba(237,233,226,.6)}

/* DROP ZONE */
#drop-zone{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:1.5rem;padding:4rem 2rem;text-align:center;animation:fadeUp .5s ease both}
.drop-box{width:min(480px,90vw);border:2px dashed var(--accent);border-radius:20px;
  padding:3rem 2rem;background:rgba(200,169,126,.05);cursor:pointer;
  transition:background .2s,border-color .2s;position:relative}
.drop-box:hover,.drop-box.drag-over{background:rgba(200,169,126,.12);border-color:var(--deep)}
.drop-icon{font-size:3rem;margin-bottom:1rem;animation:float 3s ease-in-out infinite}
.drop-box h2{font-family:var(--font-head);font-size:1.6rem;font-weight:600;color:var(--deep);margin-bottom:.5rem}
.drop-box p{font-size:.88rem;color:var(--muted);line-height:1.6}
.drop-box p strong{color:var(--text)}
.drop-input{position:absolute;inset:0;opacity:0;cursor:pointer;font-size:0}
.supported-formats{display:flex;flex-wrap:wrap;gap:.4rem;justify-content:center;margin-top:1.2rem}
.fmt-tag{font-size:.68rem;padding:3px 9px;background:rgba(200,169,126,.15);color:var(--deep);
  border-radius:100px;letter-spacing:.06em;text-transform:uppercase;font-weight:500}
.drop-or{font-size:.8rem;color:var(--muted);letter-spacing:.1em;text-transform:uppercase}
.demo-btn{background:none;border:1px solid var(--border);padding:.55rem 1.4rem;border-radius:100px;
  cursor:pointer;font-family:var(--font-body);font-size:.82rem;color:var(--muted);
  transition:all .2s;letter-spacing:.04em}
.demo-btn:hover{border-color:var(--accent);color:var(--deep)}
.folder-reload-notice{width:min(480px,90vw);background:var(--card-bg);
  border:1px solid var(--border);border-radius:14px;padding:1.1rem 1.3rem;text-align:left}

/* EXPLAINER */
#explainer-screen{display:none;flex:1;flex-direction:column;align-items:center;
  justify-content:flex-start;padding:3rem 2rem 4rem;gap:0;animation:fadeUp .45s ease both;overflow-y:auto}
#explainer-screen.visible{display:flex}
.exp-hero{text-align:center;max-width:560px;margin-bottom:2rem}
.exp-hero-icon{font-size:2.8rem;margin-bottom:.8rem;animation:float 3s ease-in-out infinite}
.exp-hero h2{font-family:var(--font-head);font-size:clamp(1.6rem,3.5vw,2.4rem);
  font-weight:600;color:var(--deep);margin-bottom:.5rem;line-height:1.2}
.exp-hero p{font-size:.9rem;color:var(--muted);line-height:1.7}
.exp-folder-name{display:inline-flex;align-items:center;gap:.4rem;
  background:rgba(200,169,126,.15);border:1px solid var(--accent);
  padding:.25rem .8rem;border-radius:100px;font-size:.8rem;color:var(--deep);
  font-weight:500;margin-bottom:1.5rem;letter-spacing:.03em}
.exp-folder-name svg{width:14px;height:14px;flex-shrink:0}
.exp-stats{display:flex;gap:1rem;flex-wrap:wrap;justify-content:center;margin-bottom:2rem}
.exp-stat{background:var(--card-bg);border:1px solid var(--border);border-radius:12px;
  padding:.7rem 1.2rem;text-align:center;min-width:100px}
.exp-stat-num{font-family:var(--font-head);font-size:1.6rem;font-weight:600;color:var(--deep);line-height:1}
.exp-stat-lbl{font-size:.68rem;color:var(--muted);margin-top:.25rem;text-transform:uppercase;letter-spacing:.08em}
.exp-cta{display:flex;flex-direction:column;align-items:center;gap:.9rem;margin-top:2rem}
.exp-cta-btn{display:flex;align-items:center;gap:.6rem;background:var(--deep);color:#ede9e2;
  border:none;padding:.85rem 2.2rem;border-radius:100px;cursor:pointer;
  font-family:var(--font-head);font-size:1rem;font-weight:600;letter-spacing:.04em;
  transition:opacity .2s;box-shadow:0 6px 24px var(--shadow)}
.exp-cta-btn:hover{opacity:.85}
.exp-cta-btn svg{width:18px;height:18px}
.exp-cta-sub{font-size:.75rem;color:var(--muted);letter-spacing:.04em}
.exp-back{background:none;border:1px solid var(--border);padding:.45rem 1.1rem;border-radius:100px;
  cursor:pointer;font-family:var(--font-body);font-size:.75rem;color:var(--muted);transition:all .2s}
.exp-back:hover{border-color:var(--accent);color:var(--deep)}

/* MAIN */
#main-content{display:none;flex:1;flex-direction:column}
#main-content.visible{display:flex}
main{flex:1;padding:0 2rem 3rem;max-width:1440px;margin:0 auto;width:100%}
.page-hero{text-align:center;padding:clamp(2rem,4vw,3.5rem) 1rem clamp(1.5rem,3vw,2rem);animation:fadeUp .5s ease both}
.page-hero h1{font-family:var(--font-head);font-size:clamp(2rem,5vw,3.8rem);
  font-weight:400;letter-spacing:.04em;color:var(--deep);line-height:1.15}
.page-hero h1 em{font-style:italic;color:var(--accent)}
.page-hero p{margin-top:.6rem;font-size:.85rem;color:var(--muted);letter-spacing:.12em;text-transform:uppercase}
.toolbar{display:flex;align-items:center;flex-wrap:wrap;gap:.75rem;margin-bottom:1.8rem;
  padding-bottom:1rem;border-bottom:1px solid var(--border);animation:fadeUp .55s ease both}
.toolbar-left{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap;flex:1}
.toolbar-right{display:flex;align-items:center;gap:.4rem;margin-left:auto}
.prod-count{font-size:.75rem;color:var(--muted);letter-spacing:.06em;text-transform:uppercase}
.view-toggle{display:flex;gap:3px}
.view-btn{background:none;border:1px solid transparent;padding:5px 7px;border-radius:7px;
  cursor:pointer;color:var(--text);opacity:.35;transition:all .2s}
.view-btn.active{opacity:1;border-color:var(--border);background:var(--card-bg)}
.view-btn svg{width:15px;height:15px;display:block}

/* GRID */
.product-grid{display:grid;grid-template-columns:repeat(var(--cols),1fr);gap:var(--gap)}
.product-grid.list-mode{grid-template-columns:1fr}
.p-card{background:var(--card-bg);border-radius:var(--radius);border:1px solid var(--border);
  overflow:hidden;cursor:pointer;transition:transform .3s cubic-bezier(.34,1.56,.64,1),box-shadow .3s,border-color .3s;
  animation:cardIn .45s ease both}
.p-card:hover{transform:translateY(-5px) scale(1.01);box-shadow:0 18px 55px var(--shadow);border-color:var(--accent)}
.p-card.list-mode{display:flex;flex-direction:row;align-items:stretch}
.p-card.list-mode:hover{box-shadow:0 6px 24px var(--shadow);border-color:var(--accent);transform:none}
.card-img{background:var(--img-bg);overflow:hidden;flex-shrink:0;position:relative}
.p-card.list-mode .card-img{width:160px;aspect-ratio:unset}
.card-img img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .5s ease}
.p-card:hover .card-img img{transform:scale(1.07)}
.card-img-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:2.5rem;opacity:.18}
.card-body{padding:.9rem 1.1rem 1.1rem;display:flex;flex-direction:column;flex:1;min-width:0}
.card-title{font-family:var(--font-head);font-size:var(--title-sz);font-weight:600;color:var(--deep);
  line-height:1.3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:.35rem}
.card-desc{font-size:var(--desc-sz);color:var(--muted);line-height:1.55;margin-bottom:.5rem;
  overflow:hidden;display:-webkit-box;-webkit-line-clamp:var(--desc-ln);-webkit-box-orient:vertical;flex:1}
.card-price{font-family:var(--font-head);font-size:1.05rem;font-weight:600;color:var(--accent);margin-top:.3rem}
.card-extras{display:flex;flex-wrap:wrap;gap:.2rem .7rem;margin-top:.4rem}
.card-extra{font-size:.7rem;color:var(--muted);white-space:nowrap}
.card-extra-key{font-weight:500;text-transform:uppercase;letter-spacing:.05em;font-size:.62rem;opacity:.6;margin-right:2px}
.empty-msg{grid-column:1/-1;text-align:center;padding:5rem 1rem;opacity:.35}
.empty-msg h3{font-family:var(--font-head);font-size:1.4rem;margin-top:.5rem}
.empty-msg svg{width:48px;height:48px}
.pagination{display:flex;align-items:center;justify-content:center;gap:.35rem;
  margin-top:3rem;padding-top:2rem;border-top:1px solid var(--border)}
.pg-btn{min-width:34px;height:34px;padding:0 .45rem;background:var(--card-bg);border:1px solid var(--border);
  border-radius:7px;cursor:pointer;font-family:var(--font-body);font-size:.82rem;color:var(--text);
  transition:all .2s;display:flex;align-items:center;justify-content:center}
.pg-btn:hover:not(:disabled){background:var(--accent);color:#fff;border-color:var(--accent)}
.pg-btn.cur{background:var(--deep);color:#fff;border-color:var(--deep);font-weight:500}
.pg-btn:disabled{opacity:.3;cursor:not-allowed}
.pg-dots{font-size:.75rem;color:var(--muted);padding:0 3px;align-self:flex-end;margin-bottom:6px}

/* MODAL */
.overlay{position:fixed;inset:0;z-index:800;background:rgba(0,0,0,.72);backdrop-filter:blur(8px);
  display:flex;align-items:center;justify-content:center;padding:1.5rem;
  opacity:0;pointer-events:none;transition:opacity .3s}
.overlay.open{opacity:1;pointer-events:all}
.modal{background:var(--card-bg);border-radius:18px;max-width:860px;width:100%;max-height:90vh;
  display:flex;flex-direction:column;overflow:hidden;
  transform:scale(.93) translateY(18px);transition:transform .35s cubic-bezier(.34,1.56,.64,1);
  box-shadow:0 40px 120px rgba(0,0,0,.28)}
.overlay.open .modal{transform:scale(1) translateY(0)}
.modal-hdr{display:flex;align-items:center;justify-content:space-between;
  padding:1.1rem 1.5rem;border-bottom:1px solid var(--border);flex-shrink:0}
.modal-hdr h2{font-family:var(--font-head);font-size:var(--modal-title-sz);font-weight:600;color:var(--deep)}
.close-btn{width:32px;height:32px;background:none;border:1px solid var(--border);border-radius:50%;
  cursor:pointer;color:var(--text);display:flex;align-items:center;justify-content:center;
  transition:all .2s;flex-shrink:0}
.close-btn:hover{background:var(--deep);color:#fff;border-color:var(--deep)}
.modal-body{display:flex;overflow-y:auto;flex:1}
.modal-img{width:var(--modal-img-w);flex-shrink:0;background:var(--img-bg);display:flex;align-items:center;
  justify-content:center;overflow:hidden;min-height:280px}
.modal-img img{max-width:100%;max-height:70vh;object-fit:contain;display:block}
.modal-info{flex:1;padding:1.5rem 1.8rem;display:flex;flex-direction:column;gap:.85rem;overflow-y:auto}
.modal-price{font-family:var(--font-head);font-size:1.7rem;font-weight:600;color:var(--accent)}
.modal-desc{font-size:var(--modal-desc-sz);line-height:1.72;color:var(--muted);white-space:pre-line}
.modal-divider{height:1px;background:var(--border);margin:.1rem 0}
.modal-field{display:flex;flex-direction:column;gap:.15rem}
.modal-field-key{font-size:.63rem;text-transform:uppercase;letter-spacing:.1em;color:var(--muted);font-weight:500}
.modal-field-val{font-size:.88rem;color:var(--text)}
.modal-filename{font-size:.65rem;color:var(--muted);opacity:.4;margin-top:.5rem}

/* CONTACT FOOTER */
.contact-footer{background:var(--contact-bg);padding:1.2rem 2rem;display:none;transition:all .3s}
.contact-footer.has-links{display:block}
.contact-footer-inner{max-width:1440px;margin:0 auto;display:flex;align-items:center;
  justify-content:space-between;flex-wrap:wrap;gap:1rem}
.contact-tagline{font-family:var(--font-head);font-size:calc(var(--contact-fs) * 0.95);font-style:italic;
  color:rgba(237,233,226,.45);letter-spacing:.08em;white-space:nowrap;font-weight:500}
.contact-links-row{display:flex;gap:1.1rem;flex-wrap:wrap;align-items:center}
.c-link{display:flex;align-items:center;gap:.35rem;font-size:var(--contact-fs);
  color:rgba(237,233,226,.85);text-decoration:none;transition:color .2s;white-space:nowrap;font-weight:400}
.c-link:hover{color:#ede9e2}
.c-link svg{width:13px;height:13px;flex-shrink:0}
.c-sep{color:rgba(237,233,226,.25);font-size:calc(var(--contact-fs) * 0.85)}

/* ADMIN PANEL */
.admin-panel{position:fixed;top:0;right:0;bottom:0;width:420px;max-width:100vw;
  background:var(--card-bg);border-left:1px solid var(--border);z-index:600;
  display:flex;flex-direction:column;
  transform:translateX(100%);transition:transform .4s cubic-bezier(.77,0,.175,1);
  box-shadow:-8px 0 40px rgba(0,0,0,.08)}
.admin-panel.open{transform:translateX(0)}
.ap-hdr{display:flex;align-items:center;justify-content:space-between;
  padding:1.1rem 1.4rem;border-bottom:1px solid var(--border);flex-shrink:0}
.ap-hdr h3{font-family:var(--font-head);font-size:1.1rem;font-weight:600;color:var(--deep)}
.ap-hdr-right{display:flex;align-items:center;gap:.5rem}
.settings-badge{display:flex;align-items:center;gap:.3rem;font-size:.63rem;color:var(--muted);
  letter-spacing:.04em;background:var(--bg);padding:3px 8px;border-radius:100px;border:1px solid var(--border)}
.sbdot{width:5px;height:5px;border-radius:50%;background:#d4a017;flex-shrink:0}
.sbdot.ok{background:#4aa74a}
.ap-tabs{display:flex;border-bottom:1px solid var(--border);flex-shrink:0;overflow-x:auto}
.ap-tab{flex:1;min-width:fit-content;padding:.6rem .7rem;background:none;border:none;
  font-size:.67rem;text-transform:uppercase;letter-spacing:.07em;cursor:pointer;color:var(--muted);
  border-bottom:2px solid transparent;transition:all .2s;font-family:var(--font-body);white-space:nowrap}
.ap-tab.on{color:var(--deep);border-bottom-color:var(--deep)}
.ap-body{flex:1;overflow-y:auto;padding:1.1rem 1.3rem}
.tab-pane{display:none;flex-direction:column;gap:1rem}
.tab-pane.on{display:flex}
.ap-section{background:var(--bg);border:1px solid var(--border);border-radius:10px;padding:.9rem 1rem}
.ap-sec-title{font-size:.62rem;text-transform:uppercase;letter-spacing:.1em;color:var(--muted);font-weight:600;margin-bottom:.8rem}
.fgrp{margin-bottom:.75rem}
.fgrp:last-child{margin-bottom:0}
.flabel{display:block;font-size:.73rem;color:var(--muted);margin-bottom:.3rem;font-weight:500}
.finput,.fselect{width:100%;padding:.45rem .65rem;border:1px solid var(--border);border-radius:8px;
  background:var(--card-bg);color:var(--text);font-family:var(--font-body);font-size:.82rem;
  outline:none;transition:border-color .2s}
.finput:focus,.fselect:focus{border-color:var(--accent)}
.tog-row{display:flex;align-items:center;justify-content:space-between;font-size:.8rem;margin-bottom:.5rem}
.tog-row:last-child{margin-bottom:0}
.tog-lbl{color:var(--text);opacity:.75}
.tog{position:relative;width:36px;height:20px;flex-shrink:0}
.tog input{opacity:0;width:0;height:0}
.tog-sl{position:absolute;inset:0;background:var(--border);border-radius:20px;cursor:pointer;transition:background .2s}
.tog-sl::after{content:'';position:absolute;width:14px;height:14px;left:3px;top:3px;
  background:#fff;border-radius:50%;transition:transform .2s;box-shadow:0 1px 3px rgba(0,0,0,.2)}
.tog input:checked+.tog-sl{background:var(--deep)}
.tog input:checked+.tog-sl::after{transform:translateX(16px)}

.folder-pick-wrap{border:2px dashed var(--border);border-radius:10px;padding:1.2rem;
  text-align:center;cursor:pointer;transition:all .2s;position:relative}
.folder-pick-wrap:hover{border-color:var(--accent);background:rgba(200,169,126,.05)}
.folder-pick-wrap p{font-size:.78rem;color:var(--muted);margin-top:.4rem}
.folder-pick-wrap strong{color:var(--text)}
.folder-current-pill{display:flex;align-items:center;gap:.5rem;
  background:rgba(200,169,126,.1);border:1px solid var(--accent);
  padding:.5rem .85rem;border-radius:8px;font-size:.78rem;color:var(--deep);margin-bottom:.65rem}
.folder-current-pill svg{width:14px;height:14px;flex-shrink:0}
.folder-clear-btn{margin-left:auto;background:none;border:none;cursor:pointer;
  color:var(--muted);font-size:.7rem;transition:color .2s;padding:0}
.folder-clear-btn:hover{color:var(--deep)}

.field-list{display:flex;flex-direction:column;gap:.4rem}
.field-item{display:flex;align-items:center;justify-content:space-between;
  padding:.45rem .6rem;background:var(--card-bg);border:1px solid var(--border);
  border-radius:8px;font-size:.8rem;cursor:grab}
.field-item.dragging{opacity:.35}
.field-item-l{display:flex;align-items:center;gap:.45rem}
.drag-h{opacity:.3;font-size:.9rem;cursor:grab}

.theme-grid{display:grid;grid-template-columns:1fr 1fr;gap:.6rem}
.theme-card{border:2px solid var(--border);border-radius:10px;padding:.8rem;cursor:pointer;
  transition:all .2s;position:relative}
.theme-card:hover{border-color:var(--accent);background:rgba(200,169,126,.05)}
.theme-card.active{border-color:var(--deep);background:rgba(61,43,26,.05)}
.theme-card.active::after{content:'‚úì';position:absolute;top:.4rem;right:.4rem;
  width:18px;height:18px;background:var(--deep);color:#fff;border-radius:50%;
  display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:bold}
.theme-name{font-family:var(--font-head);font-size:.88rem;font-weight:600;color:var(--deep);margin-bottom:.4rem}
.theme-preview{display:flex;gap:3px;margin-bottom:.4rem}
.theme-swatch{width:16px;height:16px;border-radius:3px;border:1px solid rgba(0,0,0,.1)}
.theme-info{font-size:.68rem;color:var(--muted)}

.ap-footer{padding:.9rem 1.3rem;border-top:1px solid var(--border);
  display:flex;flex-direction:column;gap:.55rem;flex-shrink:0}
.ap-footer-btns{display:flex;gap:.6rem}
.btn-preview{flex:1;padding:.55rem 1rem;background:none;color:var(--accent);
  border:1px solid var(--accent);border-radius:8px;cursor:pointer;
  font-family:var(--font-body);font-size:.8rem;font-weight:500;transition:all .2s}
.btn-preview:hover{background:var(--accent);color:#fff}
.btn-discard{padding:.55rem 1rem;background:none;color:var(--muted);border:1px solid var(--border);
  border-radius:8px;cursor:pointer;font-family:var(--font-body);font-size:.8rem;transition:all .2s}
.btn-discard:hover{border-color:var(--accent);color:var(--deep)}
.btn-save{flex:1;padding:.55rem 1rem;background:var(--deep);color:#fff;border:none;
  border-radius:8px;cursor:pointer;font-family:var(--font-body);font-size:.8rem;
  font-weight:500;letter-spacing:.05em;transition:opacity .2s}
.btn-save:hover{opacity:.82}
.save-note{font-size:.67rem;color:var(--muted);text-align:center;line-height:1.55;
  background:rgba(200,169,126,.07);border:1px solid var(--border);border-radius:7px;padding:.5rem .7rem}
.save-note strong{color:var(--deep)}

.toast{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(14px);
  background:var(--deep);color:#ede9e2;padding:.55rem 1.3rem;border-radius:100px;
  font-size:.8rem;opacity:0;pointer-events:none;transition:all .3s;z-index:2000;
  white-space:nowrap;max-width:90vw;text-align:center}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

.loader{display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:1rem;padding:3rem;color:var(--muted);font-size:.85rem;grid-column:1/-1}
.spinner{width:28px;height:28px;border:2px solid var(--border);border-top-color:var(--accent);
  border-radius:50%;animation:spin .8s linear infinite}

@keyframes fadeUp {from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
@keyframes cardIn {from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
@keyframes spin   {to{transform:rotate(360deg)}}
@keyframes float  {0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}

@media(max-width:860px){.modal-body{flex-direction:column}.modal-img{width:100%!important;min-height:220px}:root{--cols:2}}
@media(max-width:560px){:root{--cols:1}main{padding:0 1rem 2rem}.admin-panel{width:100%}.site-header{padding:0 1rem}.contact-footer{padding:.9rem 1rem}}
#aspect-style{}
</style>
</head>
<body>

<header class="site-header">
  <div class="header-inner">
    <span class="site-logo" id="js-logo">Product Showcase</span>
    <div class="header-right">
      <button class="admin-toggle-btn" id="js-admin-toggle">
        <div class="atb-dot"></div>
        <span>Admin</span>
        <span class="atb-chevron">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="11" height="11"><path d="M6 9l6 6 6-6"/></svg>
        </span>
      </button>
    </div>
  </div>
</header>

<div id="drop-zone">
  <label class="drop-box" id="js-drop-box">
    <div class="drop-icon">üóÇ</div>
    <h2>Drop your products folder</h2>
    <p>Drag &amp; drop your folder here, or <strong>click to select folder</strong>.<br>Images load instantly ‚Äî no server needed.</p>
    <div class="supported-formats">
      <span class="fmt-tag">jpg</span><span class="fmt-tag">jpeg</span><span class="fmt-tag">png</span>
      <span class="fmt-tag">gif</span><span class="fmt-tag">webp</span><span class="fmt-tag">tiff</span>
      <span class="fmt-tag">bmp</span><span class="fmt-tag">svg</span>
    </div>
    <input type="file" class="drop-input" id="js-folder-input" webkitdirectory directory multiple accept="image/*,.txt">
  </label>
  <span class="drop-or">or</span>
  <button class="demo-btn" id="js-demo-btn">Load demo products</button>
</div>

<div id="explainer-screen">
  <div class="exp-hero">
    <div class="exp-hero-icon">‚úÖ</div>
    <h2>Folder scanned ‚Äî ready to view</h2>
    <p>Your products are loaded into browser memory. Nothing uploaded to any server.</p>
  </div>
  <div class="exp-folder-name">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
    <span id="exp-folder-label">your-folder</span>
  </div>
  <div class="exp-stats" id="exp-stats"></div>
  <div class="exp-cta">
    <button class="exp-cta-btn" id="exp-continue-btn">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      View my products
    </button>
    <div class="exp-cta-sub" id="exp-cta-count">Loading‚Ä¶</div>
    <button class="exp-back" id="exp-back-btn">‚Üê Choose a different folder</button>
  </div>
</div>

<div id="main-content">
  <main>
    <div class="page-hero">
      <h1 id="js-hero-h1">Our <em>Collection</em></h1>
      <p id="js-hero-sub">Discover something beautiful</p>
    </div>
    <div class="toolbar">
      <div class="toolbar-left">
        <span class="prod-count" id="js-count">0 products</span>
      </div>
      <div class="toolbar-right">
        <div class="view-toggle">
          <button class="view-btn active" id="js-grid-btn" title="Grid">
            <svg viewBox="0 0 16 16" fill="currentColor"><rect x="1" y="1" width="6" height="6" rx="1"/><rect x="9" y="1" width="6" height="6" rx="1"/><rect x="1" y="9" width="6" height="6" rx="1"/><rect x="9" y="9" width="6" height="6" rx="1"/></svg>
          </button>
          <button class="view-btn" id="js-list-btn" title="List">
            <svg viewBox="0 0 16 16" fill="currentColor"><rect x="1" y="2" width="14" height="3" rx="1"/><rect x="1" y="7" width="14" height="3" rx="1"/><rect x="1" y="12" width="14" height="3" rx="1"/></svg>
          </button>
        </div>
      </div>
    </div>
    <div class="product-grid" id="js-grid"></div>
    <div class="pagination" id="js-pagination"></div>
  </main>
</div>

<footer class="contact-footer" id="js-contact-footer">
  <div class="contact-footer-inner">
    <span class="contact-tagline" id="js-contact-tagline">Get in touch</span>
    <div class="contact-links-row" id="js-contact-links"></div>
  </div>
</footer>

<div class="overlay" id="js-overlay">
  <div class="modal">
    <div class="modal-hdr">
      <h2 id="js-modal-title">Product</h2>
      <button class="close-btn" id="js-modal-close"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="13" height="13"><path d="M18 6L6 18M6 6l12 12"/></svg></button>
    </div>
    <div class="modal-body">
      <div class="modal-img" id="js-modal-img"></div>
      <div class="modal-info" id="js-modal-info"></div>
    </div>
  </div>
</div>

<aside class="admin-panel" id="js-admin">
  <div class="ap-hdr">
    <h3>Admin Settings</h3>
    <div class="ap-hdr-right">
      <div class="settings-badge">
        <div class="sbdot" id="js-sbdot"></div>
        <span id="js-settings-status">Loading‚Ä¶</span>
      </div>
      <button class="close-btn" id="js-close-admin"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="13" height="13"><path d="M18 6L6 18M6 6l12 12"/></svg></button>
    </div>
  </div>
  <div class="ap-tabs">
    <button class="ap-tab on" data-tab="design">Design</button>
    <button class="ap-tab" data-tab="theme">Theme</button>
    <button class="ap-tab" data-tab="folder">Folder</button>
    <button class="ap-tab" data-tab="fields">Fields</button>
    <button class="ap-tab" data-tab="contact">Contact</button>
  </div>
  <div class="ap-body">

    <div class="tab-pane on" id="tp-design">
      <div class="ap-section">
        <div class="ap-sec-title">Site Identity</div>
        <div class="fgrp"><label class="flabel">Store name</label><input type="text" class="finput" id="ac-storename"></div>
        <div class="fgrp"><label class="flabel">Page heading</label><input type="text" class="finput" id="ac-herotitle"></div>
        <div class="fgrp"><label class="flabel">Page subtitle</label><input type="text" class="finput" id="ac-herosub"></div>
      </div>
    </div>

    <div class="tab-pane" id="tp-theme">
      <div class="ap-section">
        <div class="ap-sec-title">Select Base Theme</div>
        <div class="theme-grid" id="js-theme-grid"></div>
      </div>
      <div class="ap-section">
        <div class="ap-sec-title">Customize Current Theme</div>
        <p style="font-size:.72rem;color:var(--muted);margin-bottom:.8rem;line-height:1.5">Changes preview instantly. Save to persist.</p>
        <div class="fgrp"><label class="flabel">Theme name</label><input type="text" class="finput" id="tc-name"></div>
        <div class="fgrp"><label class="flabel">Layout columns</label>
          <select class="fselect" id="tc-cols"><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option></select>
        </div>
        <div class="fgrp"><label class="flabel">Items per page</label>
          <select class="fselect" id="tc-perpage"><option value="6">6</option><option value="9">9</option><option value="12">12</option><option value="16">16</option><option value="24">24</option></select>
        </div>
      </div>
    </div>

    <div class="tab-pane" id="tp-folder">
      <div class="ap-section">
        <div class="ap-sec-title">Products Folder</div>
        <p style="font-size:.74rem;color:var(--muted);margin-bottom:.9rem;line-height:1.6">
          Select your folder. The name saves to settings.json for easy reload next visit.
        </p>
        <div id="js-folder-pill-wrap" style="display:none">
          <div class="folder-current-pill">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
            <span id="js-folder-pill-name">‚Äî</span>
            <button class="folder-clear-btn" id="js-folder-clear">‚úï Clear</button>
          </div>
        </div>
        <label class="folder-pick-wrap">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="26" height="26" style="color:var(--accent);display:block;margin:0 auto .3rem"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
          <p><strong>Click to select folder</strong> or drag &amp; drop</p>
          <input type="file" id="js-admin-folder-input" webkitdirectory directory multiple accept="image/*,.txt" style="position:absolute;inset:0;opacity:0;cursor:pointer;font-size:0">
        </label>
      </div>
    </div>

    <div class="tab-pane" id="tp-fields">
      <div class="ap-section">
        <div class="ap-sec-title">Field Visibility on Cards</div>
        <p style="font-size:.72rem;color:var(--muted);margin-bottom:.75rem;line-height:1.5">Auto-detected from .txt files. Drag to reorder.</p>
        <div class="field-list" id="js-field-list"><p style="font-size:.75rem;color:var(--muted)">Load a folder first.</p></div>
      </div>
      <div class="ap-section">
        <div class="ap-sec-title">Description on cards</div>
        <div class="tog-row"><span class="tog-lbl">Show description on cards</span><label class="tog"><input type="checkbox" id="ac-showdesc"><span class="tog-sl"></span></label></div>
      </div>
    </div>

    <div class="tab-pane" id="tp-contact">
      <div class="ap-section">
        <div class="ap-sec-title">Contact Details</div>
        <p style="font-size:.72rem;color:var(--muted);margin-bottom:.8rem;line-height:1.5">Only filled fields show. Leave blank to hide footer entirely.</p>
        <div class="fgrp"><label class="flabel">Email</label><input type="email" class="finput" id="ac-email" placeholder="hello@shop.com"></div>
        <div class="fgrp"><label class="flabel">Phone</label><input type="text" class="finput" id="ac-phone" placeholder="+1 234 567 8900"></div>
        <div class="fgrp"><label class="flabel">WhatsApp (with country code)</label><input type="text" class="finput" id="ac-whatsapp" placeholder="+12345678900"></div>
        <div class="fgrp"><label class="flabel">WeChat ID</label><input type="text" class="finput" id="ac-wechat" placeholder="wechat_id"></div>
        <div class="fgrp"><label class="flabel">Telegram (@username)</label><input type="text" class="finput" id="ac-telegram" placeholder="@username"></div>
        <div class="fgrp"><label class="flabel">Instagram (@handle)</label><input type="text" class="finput" id="ac-instagram" placeholder="@handle"></div>
        <div class="fgrp"><label class="flabel">Website</label><input type="url" class="finput" id="ac-website" placeholder="https://yoursite.com"></div>
      </div>
    </div>

  </div>
  <div class="ap-footer">
    <div class="ap-footer-btns">
      <button class="btn-preview" id="js-preview-btn">üëÅ Preview</button>
      <button class="btn-discard" id="js-discard-btn">Discard</button>
      <button class="btn-save" id="js-save-cfg">Save</button>
    </div>
    <div class="save-note">Saves to <strong>settings.json</strong> ‚Äî download and replace beside this HTML file.</div>
  </div>
</aside>

<div class="toast" id="js-toast"></div>
<style id="aspect-style"></style>

<script>
'use strict';
const DEFAULTS={storeName:'Product Showcase',heroTitle:'Our Collection',heroSub:'Discover something beautiful',
  currentTheme:'editorial',themes:{},showDesc:true,email:'',phone:'',whatsapp:'',wechat:'',telegram:'',
  instagram:'',website:'',folderName:'',fieldVis:{},fieldOrder:[]};
const IMAGE_EXTS=new Set(['jpg','jpeg','png','gif','webp','tiff','tif','bmp','svg']);
let cfg={...DEFAULTS};
let previewCfg=null;
let products=[];
let allFields=[];
let page=1;
let listMode=false;
let pendingFileMap=null;
let pendingFolderName='';

(async function boot(){
  const params=new URLSearchParams(window.location.search);
  if(params.get('admin')==='1'){
    document.getElementById('js-admin-toggle').classList.add('visible');
  }
  await loadSettings();
  applyTheme(cfg);
  renderContact();
  populateAdmin();
  if(cfg.folderName) showFolderReloadNotice(cfg.folderName);
})();

async function loadSettings(){
  try{
    const r=await fetch('./settings.json?t='+Date.now());
    if(!r.ok) throw 0;
    const d=await r.json();
    cfg={...DEFAULTS,...d};
    if(!cfg.themes||!Object.keys(cfg.themes).length){
      cfg.themes=getDefaultThemes();
      cfg.currentTheme='editorial';
    }
    setSettingsStatus('ok','settings.json loaded');
  }catch(e){
    cfg={...DEFAULTS,themes:getDefaultThemes(),currentTheme:'editorial'};
    setSettingsStatus('none','No settings.json ‚Äî using defaults');
  }
}
function setSettingsStatus(state,msg){
  const dot=document.getElementById('js-sbdot'),txt=document.getElementById('js-settings-status');
  if(dot) dot.className='sbdot'+(state==='ok'?' ok':'');
  if(txt) txt.textContent=msg;
}

function getDefaultThemes(){
  return{
    editorial:{name:'Editorial Warm',bgColor:'#f7f4ef',cardColor:'#ffffff',textColor:'#1c1812',accentColor:'#c8a97e',deepColor:'#3d2b1a',
      fontDisplay:'Playfair Display, Georgia, serif',fontBody:'Jost, system-ui, sans-serif',cols:3,gap:1.5,perPage:12,radius:14,aspect:'1/1',
      titleSize:1.1,descSize:.82,descLines:2,contactBg:'#3d2b1a',contactFontSize:.76,contactTagline:'Get in touch',
      modalStyle:'popup',modalTitleSize:1.5,modalDescSize:.9,modalImgSize:'48%'},
    brutalist:{name:'Brutalist Dark',bgColor:'#0a0a0a',cardColor:'#1a1a1a',textColor:'#e8e8e8',accentColor:'#00ff00',deepColor:'#ffffff',
      fontDisplay:'Courier New, monospace',fontBody:'Arial, sans-serif',cols:4,gap:.5,perPage:16,radius:0,aspect:'1/1',
      titleSize:1,descSize:.85,descLines:3,contactBg:'#000000',contactFontSize:.8,contactTagline:'CONTACT',
      modalStyle:'popup',modalTitleSize:1.8,modalDescSize:1,modalImgSize:'50%'},
    minimal:{name:'Minimal Light',bgColor:'#ffffff',cardColor:'#fafafa',textColor:'#2a2a2a',accentColor:'#666666',deepColor:'#000000',
      fontDisplay:'system-ui, sans-serif',fontBody:'system-ui, sans-serif',cols:2,gap:3,perPage:8,radius:2,aspect:'4/3',
      titleSize:1.3,descSize:.9,descLines:0,contactBg:'#f0f0f0',contactFontSize:.85,contactTagline:'Contact',
      modalStyle:'popup',modalTitleSize:1.6,modalDescSize:.95,modalImgSize:'55%'},
    luxury:{name:'Luxury Gold',bgColor:'#1a1510',cardColor:'#2a2318',textColor:'#e8e0d5',accentColor:'#d4af37',deepColor:'#f5e6d3',
      fontDisplay:'Didot, serif',fontBody:'Helvetica Neue, sans-serif',cols:3,gap:2,perPage:9,radius:8,aspect:'3/4',
      titleSize:1.2,descSize:.88,descLines:2,contactBg:'#0d0a07',contactFontSize:.78,contactTagline:'Connect with us',
      modalStyle:'popup',modalTitleSize:1.7,modalDescSize:.92,modalImgSize:'45%'}
  };
}

function showFolderReloadNotice(name){
  const dz=document.getElementById('drop-zone');
  document.getElementById('folder-reload-notice')?.remove();
  const el=document.createElement('div');
  el.id='folder-reload-notice';el.className='folder-reload-notice';
  el.innerHTML=`<div style="display:flex;align-items:center;gap:.55rem;margin-bottom:.55rem">
    <span style="font-size:1.1rem">üìÇ</span>
    <span style="font-family:var(--font-head);font-size:.9rem;font-weight:600;color:var(--deep)">Previous folder remembered</span>
  </div><p style="font-size:.78rem;color:var(--muted);line-height:1.6">
    Your settings remember folder <strong style="color:var(--text)">${esc(name)}</strong>. Re-select to reload.
  </p>`;
  dz.insertBefore(el,dz.firstChild);
}

const $dropBox=document.getElementById('js-drop-box');
const $folderIn=document.getElementById('js-folder-input');
const $dropZone=document.getElementById('drop-zone');
const $expl=document.getElementById('explainer-screen');
const $main=document.getElementById('main-content');

$dropBox.addEventListener('dragenter',e=>{e.preventDefault();$dropBox.classList.add('drag-over')});
$dropBox.addEventListener('dragleave',()=>$dropBox.classList.remove('drag-over'));
$dropBox.addEventListener('dragover',e=>e.preventDefault());
$dropBox.addEventListener('drop',async e=>{
  e.preventDefault();$dropBox.classList.remove('drag-over');
  const entries=[...(e.dataTransfer?.items||[])].map(i=>i.webkitGetAsEntry?.()).filter(Boolean);
  const fold=entries.find(en=>en.isDirectory);
  pendingFolderName=fold?fold.name:'dropped folder';
  if(entries.length) await scanEntries(entries);
});
$folderIn.addEventListener('change',async e=>{
  if(!e.target.files.length)return;
  const fp=e.target.files[0].webkitRelativePath||e.target.files[0].name;
  pendingFolderName=fp.includes('/')?fp.split('/')[0]:'selected folder';
  await scanFileList(e.target.files);
});

document.getElementById('exp-continue-btn').addEventListener('click',async()=>{
  if(!pendingFileMap)return;showLoader();await processFileMap(pendingFileMap);
});
document.getElementById('exp-back-btn').addEventListener('click',()=>{pendingFileMap=null;showDropZone()});

document.getElementById('js-admin-folder-input').addEventListener('change',async e=>{
  if(!e.target.files.length)return;
  const fp=e.target.files[0].webkitRelativePath||e.target.files[0].name;
  pendingFolderName=fp.includes('/')?fp.split('/')[0]:'selected folder';
  cfg.folderName=pendingFolderName;
  updateFolderUI(pendingFolderName);
  await scanFileList(e.target.files);
  closeAdmin();
});
document.getElementById('js-folder-clear').addEventListener('click',()=>{
  cfg.folderName='';updateFolderUI('');showDropZone();toast('Folder cleared');
});

function updateFolderUI(name){
  const wrap=document.getElementById('js-folder-pill-wrap');
  const nm=document.getElementById('js-folder-pill-name');
  if(wrap) wrap.style.display=name?'block':'none';
  if(nm) nm.textContent=name||'‚Äî';
}

async function scanEntries(entries){
  $dropZone.style.display='none';
  const map={};await Promise.all(entries.map(e=>collectEntries(e,map)));
  pendingFileMap=map;showExplainer(map);
}
function collectEntries(entry,map){
  return new Promise(res=>{
    if(entry.isFile) entry.getFile(f=>{map[f.name]=f;res()},()=>res());
    else if(entry.isDirectory){
      const r=entry.createReader();
      const all=()=>r.readEntries(async b=>{if(!b.length){res();return}await Promise.all(b.map(e=>collectEntries(e,map)));all()},()=>res());
      all();
    }else res();
  });
}
async function scanFileList(files){
  const map={};
  [...files].forEach(f=>{const n=f.webkitRelativePath?f.webkitRelativePath.split('/').pop():f.name;map[n]=f});
  pendingFileMap=map;showExplainer(map);
}
async function processFileMap(fm){
  const names=Object.keys(fm);
  const imgs=names.filter(n=>IMAGE_EXTS.has(n.split('.').pop().toLowerCase()));
  const txts=new Set(names.filter(n=>n.toLowerCase().endsWith('.txt')));
  const loaded=await Promise.all(imgs.map(async imgN=>{
    const base=imgN.replace(/\.[^.]+$/,'');
    const url=URL.createObjectURL(fm[imgN]);
    let fields={title:fileToTitle(imgN)};
    const tk=txts.has(base+'.txt')?base+'.txt':txts.has(base+'.TXT')?base+'.TXT':null;
    if(tk&&fm[tk]){try{const t=await fm[tk].text();fields={...fields,...parseTxt(t)}}catch{}}
    return{filename:imgN,objectURL:url,fields};
  }));
  loaded.sort((a,b)=>a.filename.localeCompare(b.filename,undefined,{numeric:true}));
  products=loaded;pendingFileMap=null;
  cfg.folderName=pendingFolderName;
  updateFolderUI(pendingFolderName);
  discoverFields();renderFieldList();
  page=1;showMainContent();renderGrid();
  toast(`${products.length} product${products.length!==1?'s':''} loaded`);
}

function showDropZone(){
  $dropZone.style.display='flex';$expl.classList.remove('visible');$main.classList.remove('visible');
  products.forEach(p=>p.objectURL&&URL.revokeObjectURL(p.objectURL));products=[];
  if(cfg.folderName) showFolderReloadNotice(cfg.folderName);
}
function showExplainer(fm){
  $dropZone.style.display='none';$main.classList.remove('visible');$expl.classList.add('visible');
  document.getElementById('exp-folder-label').textContent=pendingFolderName;
  const names=Object.keys(fm);
  const ic=names.filter(n=>IMAGE_EXTS.has(n.split('.').pop().toLowerCase())).length;
  const tc=names.filter(n=>n.toLowerCase().endsWith('.txt')).length;
  document.getElementById('exp-stats').innerHTML=`
    <div class="exp-stat"><div class="exp-stat-num">${ic}</div><div class="exp-stat-lbl">Images</div></div>
    <div class="exp-stat"><div class="exp-stat-num">${tc}</div><div class="exp-stat-lbl">Metadata .txt</div></div>
    <div class="exp-stat"><div class="exp-stat-num">${names.length}</div><div class="exp-stat-lbl">Total files</div></div>`;
  document.getElementById('exp-cta-count').textContent=`${ic} product${ic!==1?'s':''} will be displayed`;
  window.scrollTo({top:0,behavior:'smooth'});
}
function showLoader(){
  $dropZone.style.display='none';$expl.classList.remove('visible');$main.classList.add('visible');
  document.getElementById('js-grid').innerHTML=`<div class="loader"><div class="spinner"></div>Reading files‚Ä¶</div>`;
}
function showMainContent(){
  $dropZone.style.display='none';$expl.classList.remove('visible');$main.classList.add('visible');
}

document.getElementById('js-demo-btn').addEventListener('click',loadDemo);
function loadDemo(){
  products=[
    {filename:'ceramic.jpg',objectURL:'https://images.unsplash.com/photo-1610701596007-11502861dcfa?w=700&q=80',fields:{title:'Ceramic Bowl',description:'Natural clay. Each piece unique.',price:'$48',material:'Clay',stock:'In Stock'}},
    {filename:'linen.jpg',objectURL:'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=700&q=80',fields:{title:'Linen Pillow',description:'Belgian linen with feather insert.',price:'$36',size:'45cm',stock:'In Stock'}},
    {filename:'candles.jpg',objectURL:'https://images.unsplash.com/photo-1608831540955-35094d48694a?w=700&q=80',fields:{title:'Beeswax Candles',description:'Hand-poured pure beeswax.',price:'$22',burnTime:'40 hrs',stock:'Low Stock'}},
    {filename:'walnut.jpg',objectURL:'https://images.unsplash.com/photo-1593085512500-5d55148d6f0d?w=700&q=80',fields:{title:'Walnut Tray',description:'Solid American walnut.',price:'$89',material:'Walnut',stock:'In Stock'}},
    {filename:'cotton.jpg',objectURL:'https://images.unsplash.com/photo-1622560480654-d96214fdc887?w=700&q=80',fields:{title:'Cotton Bag',description:'100% organic cotton.',price:'$18',capacity:'12 kg',stock:'In Stock'}},
    {filename:'terra.jpg',objectURL:'https://images.unsplash.com/photo-1617119664932-4c9e5e7e4e31?w=700&q=80',fields:{title:'Terracotta Planter',description:'Classic terracotta.',price:'$14',diameter:'15cm',stock:'In Stock'}},
    {filename:'glass.jpg',objectURL:'https://images.unsplash.com/photo-1556228720-195a672e8a03?w=700&q=80',fields:{title:'Glass Carafe',description:'Blown glass with cork.',price:'$54',capacity:'1.2L',stock:'Out of Stock'}},
    {filename:'wool.jpg',objectURL:'https://images.unsplash.com/photo-1616627547584-bf28cee262db?w=700&q=80',fields:{title:'Wool Throw',description:'Merino wool. Machine washable.',price:'$128',size:'130√ó170cm',stock:'In Stock'}},
    {filename:'soap.jpg',objectURL:'https://images.unsplash.com/photo-1584305574647-0cc949a2bb9f?w=700&q=80',fields:{title:'Soap Dish',description:'Handpinched stoneware.',price:'$16',glaze:'Matte White',stock:'In Stock'}},
    {filename:'rattan.jpg',objectURL:'https://images.unsplash.com/photo-1590422749897-47036da0b0ff?w=700&q=80',fields:{title:'Rattan Basket',description:'Handwoven storage.',price:'$67',origin:'Indonesia',stock:'In Stock'}},
  ];
  discoverFields();renderFieldList();
  page=1;showMainContent();renderGrid();
  toast('Demo loaded');
}

function parseTxt(txt){
  const lines=txt.split('\n').map(l=>l.trim());
  const res={};let key=null,val=[];
  const flush=()=>{if(key&&val.length){res[key]=val.join('\n').trim();key=null;val=[]}};
  for(const line of lines){
    if(!line){flush();continue}
    if(/^[a-z0-9_\-\s]+:$/i.test(line)){flush();key=line.slice(0,-1).toLowerCase().trim()}
    else if(key) val.push(line);
  }
  flush();return res;
}

function discoverFields(){
  const seen=new Set();
  products.forEach(p=>Object.keys(p.fields).forEach(k=>seen.add(k)));
  const std=['title','price','description'];
  const extra=[...seen].filter(f=>!std.includes(f)).sort();
  const disc=[...std.filter(f=>seen.has(f)),...extra];
  const ord=(cfg.fieldOrder||[]).filter(f=>seen.has(f));
  disc.filter(f=>!ord.includes(f)).forEach(f=>ord.push(f));
  allFields=ord;cfg.fieldOrder=[...ord];
  allFields.forEach(f=>{if(cfg.fieldVis[f]===undefined)cfg.fieldVis[f]=true});
}
function renderFieldList(){
  const list=document.getElementById('js-field-list');
  list.innerHTML='';
  if(!allFields.length){list.innerHTML='<p style="font-size:.75rem;color:var(--muted)">No fields yet.</p>';return}
  allFields.forEach(field=>{
    const item=document.createElement('div');
    item.className='field-item';item.draggable=true;item.dataset.field=field;
    const checked=cfg.fieldVis[field]!==false;
    item.innerHTML=`<div class="field-item-l"><span class="drag-h">‚†ø</span><span>${cap(field)}</span></div>
      <label class="tog"><input type="checkbox" ${checked?'checked':''}><span class="tog-sl"></span></label>`;
    item.querySelector('input').addEventListener('change',e=>{cfg.fieldVis[field]=e.target.checked;renderGrid()});
    attachDrag(item,list);list.appendChild(item);
  });
}
function attachDrag(el,c){
  el.addEventListener('dragstart',()=>el.classList.add('dragging'));
  el.addEventListener('dragend',()=>{el.classList.remove('dragging');cfg.fieldOrder=[...c.querySelectorAll('.field-item')].map(e=>e.dataset.field);allFields=[...cfg.fieldOrder]});
  el.addEventListener('dragover',e=>{e.preventDefault();const d=c.querySelector('.dragging');if(!d||d===el)return;const r=el.getBoundingClientRect();c.insertBefore(d,e.clientY<r.top+r.height/2?el:el.nextSibling)});
}

function renderGrid(){
  const grid=document.getElementById('js-grid');
  const th=getCurrentTheme();
  const pp=parseInt(th.perPage)||12;
  const tot=products.length;
  const tp=Math.max(1,Math.ceil(tot/pp));
  page=Math.min(page,tp);
  const sl=pp>=9999?products:products.slice((page-1)*pp,page*pp);
  document.getElementById('js-count').textContent=`${tot} product${tot!==1?'s':''} ¬∑ page ${page}/${tp}`;
  grid.className='product-grid'+(listMode?' list-mode':'');
  grid.innerHTML='';
  if(!sl.length){
    grid.innerHTML=`<div class="empty-msg"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 9h6M9 12h6M9 15h4"/></svg><h3>No products</h3><p>Drop a folder to begin</p></div>`;
  }else{
    sl.forEach((p,i)=>{const c=makeCard(p,i);grid.appendChild(c)});
  }
  renderPagination(page,tp);
}
function makeCard(prod,idx){
  const card=document.createElement('div');
  card.className='p-card'+(listMode?' list-mode':'');
  card.style.animationDelay=`${idx*.035}s`;
  const title=prod.fields.title||fileToTitle(prod.filename);
  const desc=prod.fields.description;
  const price=prod.fields.price;
  const show=cfg.showDesc!==false;
  const extras=allFields.filter(f=>cfg.fieldVis[f]!==false&&!['title','description','price'].includes(f)&&prod.fields[f]).slice(0,4);
  card.innerHTML=`
    <div class="card-img">${prod.objectURL?`<img src="${prod.objectURL}" alt="${esc(title)}" loading="lazy">`:`<div class="card-img-placeholder">üñºÔ∏è</div>`}</div>
    <div class="card-body">
      <div class="card-title">${esc(title)}</div>
      ${show&&desc&&cfg.fieldVis['description']!==false?`<div class="card-desc">${esc(desc)}</div>`:''}
      ${price&&cfg.fieldVis['price']!==false?`<div class="card-price">${esc(price)}</div>`:''}
      <div class="card-extras">${extras.map(f=>`<span class="card-extra"><span class="card-extra-key">${cap(f)}</span>${esc(prod.fields[f])}</span>`).join('')}</div>
    </div>`;
  card.addEventListener('click',()=>openModal(prod));
  return card;
}

function renderPagination(cur,tot){
  const pag=document.getElementById('js-pagination');
  pag.innerHTML='';if(tot<=1)return;
  const add=(label,pg,dis,active)=>{
    const b=document.createElement('button');
    b.className='pg-btn'+(active?' cur':'');b.textContent=label;b.disabled=dis;
    b.onclick=()=>{page=pg;renderGrid();scrollTo({top:0,behavior:'smooth'})};
    pag.appendChild(b);
  };
  const dots=()=>{const s=document.createElement('span');s.className='pg-dots';s.textContent='‚Ä¶';pag.appendChild(s)};
  add('‚Äπ',cur-1,cur===1,false);
  const r=tot<=7?[...Array(tot)].map((_,i)=>i+1):pgRange(cur,tot);
  r.forEach(p=>p==='‚Ä¶'?dots():add(p,p,false,p===cur));
  add('‚Ä∫',cur+1,cur===tot,false);
}
function pgRange(c,t){const ps=[1];if(c>3)ps.push('‚Ä¶');for(let p=Math.max(2,c-1);p<=Math.min(t-1,c+1);p++)ps.push(p);if(c<t-2)ps.push('‚Ä¶');ps.push(t);return ps}

function openModal(prod){
  const ov=document.getElementById('js-overlay');
  const title=prod.fields.title||fileToTitle(prod.filename);
  document.getElementById('js-modal-title').textContent=title;
  document.getElementById('js-modal-img').innerHTML=prod.objectURL?`<img src="${prod.objectURL}" alt="${esc(title)}">`:`<div style="font-size:5rem;opacity:.15">üñºÔ∏è</div>`;
  const info=document.getElementById('js-modal-info');info.innerHTML='';
  const ord=allFields.filter(f=>f!=='title'&&prod.fields[f]);
  const rest=Object.keys(prod.fields).filter(f=>f!=='title'&&!ord.includes(f)&&prod.fields[f]);
  [...ord,...rest].forEach((field,i)=>{
    const val=prod.fields[field];if(!val)return;
    if(i>0&&(field==='description'||ord[i-1]==='price')){const d=document.createElement('div');d.className='modal-divider';info.appendChild(d)}
    if(field==='price'){const el=document.createElement('div');el.className='modal-price';el.textContent=val;info.appendChild(el)}
    else if(field==='description'){const el=document.createElement('div');el.className='modal-desc';el.textContent=val;info.appendChild(el)}
    else{const el=document.createElement('div');el.className='modal-field';el.innerHTML=`<div class="modal-field-key">${cap(field)}</div><div class="modal-field-val">${esc(val)}</div>`;info.appendChild(el)}
  });
  const fn=document.createElement('div');fn.className='modal-filename';fn.textContent=prod.filename;info.appendChild(fn);
  ov.classList.add('open');document.body.style.overflow='hidden';
}
function closeModal(){document.getElementById('js-overlay').classList.remove('open');document.body.style.overflow=''}
document.getElementById('js-modal-close').onclick=closeModal;
document.getElementById('js-overlay').addEventListener('click',e=>{if(e.target===e.currentTarget)closeModal()});

document.getElementById('js-grid-btn').onclick=()=>{listMode=false;setViewBtns();renderGrid()};
document.getElementById('js-list-btn').onclick=()=>{listMode=true;setViewBtns();renderGrid()};
function setViewBtns(){
  document.getElementById('js-grid-btn').classList.toggle('active',!listMode);
  document.getElementById('js-list-btn').classList.toggle('active',listMode);
}

const $admin=document.getElementById('js-admin');
const $adminBtn=document.getElementById('js-admin-toggle');
$adminBtn.addEventListener('click',()=>{
  const open=$admin.classList.contains('open');
  if(open){closeAdmin()}else{populateAdmin();$admin.classList.add('open');$adminBtn.classList.add('active')}
});
document.getElementById('js-close-admin').onclick=closeAdmin;
function closeAdmin(){$admin.classList.remove('open');$adminBtn.classList.remove('active')}

document.querySelectorAll('.ap-tab').forEach(tab=>{
  tab.addEventListener('click',()=>{
    document.querySelectorAll('.ap-tab').forEach(t=>t.classList.remove('on'));
    document.querySelectorAll('.tab-pane').forEach(p=>p.classList.remove('on'));
    tab.classList.add('on');
    document.getElementById('tp-'+tab.dataset.tab).classList.add('on');
  });
});

function populateAdmin(){
  sv('ac-storename',cfg.storeName);sv('ac-herotitle',cfg.heroTitle);sv('ac-herosub',cfg.heroSub);
  document.getElementById('ac-showdesc').checked=cfg.showDesc!==false;
  sv('ac-email',cfg.email||'');sv('ac-phone',cfg.phone||'');sv('ac-whatsapp',cfg.whatsapp||'');
  sv('ac-wechat',cfg.wechat||'');sv('ac-telegram',cfg.telegram||'');
  sv('ac-instagram',cfg.instagram||'');sv('ac-website',cfg.website||'');
  updateFolderUI(cfg.folderName||'');
  renderThemeGrid();
  populateThemeCustomizer();
}
const sv=(id,v)=>{const el=document.getElementById(id);if(el)el.value=v};
const gv=id=>{const el=document.getElementById(id);return el?el.value:''};

function renderThemeGrid(){
  const grid=document.getElementById('js-theme-grid');
  grid.innerHTML='';
  Object.keys(cfg.themes).forEach(key=>{
    const th=cfg.themes[key];
    const card=document.createElement('div');
    card.className='theme-card'+(cfg.currentTheme===key?' active':'');
    card.innerHTML=`
      <div class="theme-name">${th.name}</div>
      <div class="theme-preview">
        <div class="theme-swatch" style="background:${th.bgColor}"></div>
        <div class="theme-swatch" style="background:${th.cardColor}"></div>
        <div class="theme-swatch" style="background:${th.accentColor}"></div>
        <div class="theme-swatch" style="background:${th.deepColor}"></div>
      </div>
      <div class="theme-info">${th.cols} cols ¬∑ ${th.perPage}/page</div>`;
    card.addEventListener('click',()=>{
      cfg.currentTheme=key;
      applyTheme(cfg);
      renderGrid();
      renderContact();
      renderThemeGrid();
      populateThemeCustomizer();
    });
    grid.appendChild(card);
  });
}

function populateThemeCustomizer(){
  const th=getCurrentTheme();
  sv('tc-name',th.name);
  sv('tc-cols',th.cols);
  sv('tc-perpage',th.perPage);
}

function getCurrentTheme(){
  return previewCfg?previewCfg.themes[previewCfg.currentTheme]:cfg.themes[cfg.currentTheme];
}

document.getElementById('js-preview-btn').addEventListener('click',()=>{
  previewCfg=JSON.parse(JSON.stringify(cfg));
  const th=previewCfg.themes[previewCfg.currentTheme];
  th.name=gv('tc-name');
  th.cols=+gv('tc-cols')||3;
  th.perPage=+gv('tc-perpage')||12;
  applyTheme(previewCfg);
  renderGrid();
  renderContact();
  toast('üëÅ Preview applied ‚Äî not saved yet');
});

document.getElementById('js-discard-btn').addEventListener('click',()=>{
  previewCfg=null;
  applyTheme(cfg);
  renderGrid();
  renderContact();
  populateAdmin();
  toast('Changes discarded');
});

document.getElementById('js-save-cfg').onclick=()=>{
  readAdminIntoCfg();
  if(previewCfg){
    cfg=JSON.parse(JSON.stringify(previewCfg));
    previewCfg=null;
  }
  downloadJson(cfg);
  applyTheme(cfg);
  renderContact();
  page=1;renderGrid();renderFieldList();
  setSettingsStatus('ok','Saved');
  toast('settings.json downloaded ‚Äî replace file beside HTML ‚úì');
};

function readAdminIntoCfg(){
  cfg.storeName=gv('ac-storename');cfg.heroTitle=gv('ac-herotitle');cfg.heroSub=gv('ac-herosub');
  cfg.showDesc=document.getElementById('ac-showdesc').checked;
  cfg.email=gv('ac-email');cfg.phone=gv('ac-phone');cfg.whatsapp=gv('ac-whatsapp');
  cfg.wechat=gv('ac-wechat');cfg.telegram=gv('ac-telegram');
  cfg.instagram=gv('ac-instagram');cfg.website=gv('ac-website');
  const th=cfg.themes[cfg.currentTheme];
  th.name=gv('tc-name');
  th.cols=+gv('tc-cols')||3;
  th.perPage=+gv('tc-perpage')||12;
}

function downloadJson(data){
  const blob=new Blob([JSON.stringify(data,null,2)],{type:'application/json'});
  const a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download='settings.json';
  a.click();setTimeout(()=>URL.revokeObjectURL(a.href),5000);
}

function applyTheme(c){
  const th=c.themes[c.currentTheme];
  const r=document.documentElement;
  r.style.setProperty('--bg',th.bgColor);
  r.style.setProperty('--card-bg',th.cardColor);
  r.style.setProperty('--text',th.textColor);
  r.style.setProperty('--accent',th.accentColor);
  r.style.setProperty('--deep',th.deepColor);
  r.style.setProperty('--font-head',th.fontDisplay);
  r.style.setProperty('--font-body',th.fontBody);
  r.style.setProperty('--cols',th.cols||3);
  r.style.setProperty('--gap',(th.gap||1.5)+'rem');
  r.style.setProperty('--radius',(th.radius||14)+'px');
  r.style.setProperty('--title-sz',(th.titleSize||1.1)+'rem');
  r.style.setProperty('--desc-sz',(th.descSize||.82)+'rem');
  r.style.setProperty('--desc-ln',th.descLines??2);
  r.style.setProperty('--contact-bg',th.contactBg);
  r.style.setProperty('--contact-fs',(th.contactFontSize||.76)+'rem');
  r.style.setProperty('--modal-title-sz',(th.modalTitleSize||1.5)+'rem');
  r.style.setProperty('--modal-desc-sz',(th.modalDescSize||.9)+'rem');
  r.style.setProperty('--modal-img-w',th.modalImgSize||'48%');
  r.style.setProperty('--muted',hexMix(th.textColor,th.bgColor,.45));
  r.style.setProperty('--border',hexAlpha(th.textColor,.10));
  r.style.setProperty('--shadow',hexAlpha(th.deepColor,.13));
  r.style.setProperty('--img-bg',hexAlpha(th.accentColor,.10));
  r.style.setProperty('--hdr-bg',hexAlpha(th.bgColor,.93));
  document.getElementById('aspect-style').textContent=`.card-img{aspect-ratio:${th.aspect||'1/1'}}`;
  document.getElementById('js-logo').textContent=c.storeName||'Product Showcase';
  document.getElementById('js-hero-h1').innerHTML=buildTitle(c.heroTitle||'Our Collection');
  document.getElementById('js-hero-sub').textContent=c.heroSub||'';
}
function buildTitle(t){const w=t.trim().split(/\s+/);if(w.length>1){const last=w.pop();return w.join(' ')+' <em>'+esc(last)+'</em>'}return esc(t)}

function renderContact(){
  const footer=document.getElementById('js-contact-footer');
  const links=document.getElementById('js-contact-links');
  const tag=document.getElementById('js-contact-tagline');
  const th=getCurrentTheme();
  links.innerHTML='';
  tag.textContent=th.contactTagline||'Get in touch';
  const items=[
    {key:'email',href:v=>`mailto:${v}`,icon:icoEmail()},
    {key:'phone',href:v=>`tel:${v}`,icon:icoPhone()},
    {key:'whatsapp',href:v=>`https://wa.me/${v.replace(/\D/g,'')}`,icon:icoWA()},
    {key:'telegram',href:v=>`https://t.me/${v.replace('@','')}`,icon:icoTG()},
    {key:'wechat',href:()=>'#',onClick:v=>toast(`WeChat: ${v}`),icon:icoWC()},
    {key:'instagram',href:v=>`https://instagram.com/${v.replace('@','')}`,icon:icoIG()},
    {key:'website',href:v=>v,icon:icoWeb()},
  ];
  let count=0;
  items.forEach(item=>{
    const val=cfg[item.key];if(!val)return;
    if(count++){const s=document.createElement('span');s.className='c-sep';s.textContent='¬∑';links.appendChild(s)}
    const a=document.createElement('a');
    a.className='c-link';a.href=item.href(val);a.target='_blank';a.rel='noopener';
    a.innerHTML=item.icon+`<span>${esc(val)}</span>`;
    if(item.onClick){a.onclick=e=>{e.preventDefault();item.onClick(val)}}
    links.appendChild(a);count++;
  });
  footer.className='contact-footer'+(count>0?' has-links':'');
}

document.addEventListener('keydown',e=>{
  if(e.key==='Escape'){closeModal();closeAdmin()}
});

function toast(msg){
  const t=document.getElementById('js-toast');
  t.textContent=msg;t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),3200);
}

function fileToTitle(n){return(n||'').replace(/\.[^.]+$/,'').replace(/[-_]+/g,' ').replace(/\b\w/g,l=>l.toUpperCase())}
function cap(s){return s?s.charAt(0).toUpperCase()+s.slice(1):s}
function esc(s){return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;')}
function hexAlpha(hex,a){const r=parseInt(hex.slice(1,3),16),g=parseInt(hex.slice(3,5),16),b=parseInt(hex.slice(5,7),16);return`rgba(${r},${g},${b},${a})`}
function hexMix(h1,h2,t){
  const r1=parseInt(h1.slice(1,3),16),g1=parseInt(h1.slice(3,5),16),b1=parseInt(h1.slice(5,7),16);
  const r2=parseInt(h2.slice(1,3),16),g2=parseInt(h2.slice(3,5),16),b2=parseInt(h2.slice(5,7),16);
  return'#'+[Math.round(r1*t+r2*(1-t)),Math.round(g1*t+g2*(1-t)),Math.round(b1*t+b2*(1-t))].map(v=>v.toString(16).padStart(2,'0')).join('');
}

const ico=p=>`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">${p}</svg>`;
const icof=p=>`<svg viewBox="0 0 24 24" fill="currentColor">${p}</svg>`;
const icoEmail=()=>ico(`<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/>`);
const icoPhone=()=>ico(`<path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07A19.5 19.5 0 014.69 12 19.79 19.79 0 011.61 3.45 2 2 0 013.59 1h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L7.91 8.52a16 16 0 006 6l1.88-1.88a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"/>`);
const icoWA=()=>icof(`<path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>`);
const icoTG=()=>icof(`<path d="M11.944 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0a12 12 0 00-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 01.171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>`);
const icoWC=()=>icof(`<path d="M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 01.213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 00.167-.054l1.903-1.114a.864.864 0 01.717-.098 10.16 10.16 0 002.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348zm-3.056 4.148c.535 0 .969.44.969.982a.976.976 0 01-.969.983.976.976 0 01-.969-.983c0-.542.434-.982.969-.982zm5.363 0c.535 0 .969.44.969.982a.976.976 0 01-.969.983.976.976 0 01-.969-.983c0-.542.434-.982.969-.982zm2.954 3.367c-1.797-.052-3.746.512-5.28 1.786-1.72 1.428-2.687 3.72-1.78 6.22.942 2.453 3.666 4.229 6.884 4.229.826 0 1.622-.12 2.361-.336a.722.722 0 01.598.082l1.584.926a.272.272 0 00.14.047c.134 0 .24-.111.24-.247 0-.06-.023-.12-.038-.177l-.327-1.233a.582.582 0 01-.023-.156.49.49 0 01.201-.398C23.024 18.48 24 16.82 24 14.98c0-3.21-2.931-5.837-7.062-6.122zm-3.89 2.295c.535 0 .969.44.969.982a.976.976 0 01-.969.983.976.976 0 01-.969-.983c0-.542.434-.982.969-.982zm5.814 0c.535 0 .969.44.969.982a.976.976 0 01-.969.983.976.976 0 01-.969-.983c0-.542.434-.982.969-.982z"/>`);
const icoIG=()=>ico(`<rect x="2" y="2" width="20" height="20" rx="5"/><circle cx="12" cy="12" r="4"/><circle cx="17.5" cy="6.5" r="1" fill="currentColor" stroke="none"/>`);
const icoWeb=()=>ico(`<circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/>`);
</script>
</body>
</html>
